# Claude Voice Hotkey

マウスサイドボタンでClaude.aiの音声入力を制御するChrome拡張機能

## 🎯 機能

- **マウスサイドボタン押下** → 音声入力開始
- **ボタンを離す** → 音声入力停止 → 即座に送信
- **既存の音声機能より高速** - ボタン離した瞬間に送信

## 📋 使用方法

### 1. 拡張機能のインストール

1. `chrome://extensions/` を開く
2. 「デベロッパーモード」をON
3. 「パッケージ化されていない拡張機能を読み込む」
4. このフォルダ（`claude-voice-hotkey`）を選択

### 2. Claude.aiで使用

1. `https://claude.ai/` を開く
2. マウスサイドボタンを押す → 音声入力開始
3. ボタンを離す → 音声入力停止 → 自動送信

### 3. 設定変更

拡張機能アイコンをクリックして設定画面を開く

**設定項目:**
- **機能有効化** - ON/OFF切り替え
- **マウスボタン** - サイドボタン1/2/両方
- **自動送信** - 音声入力後の自動送信ON/OFF

## 🔧 技術仕様

### 対応ブラウザ
- Google Chrome 120+
- Microsoft Edge 120+
- その他Chromiumベースブラウザ

### マウスボタン
- **サイドボタン1（戻る）** - Button 3
- **サイドボタン2（進む）** - Button 4

### 動作フロー

```
1. マウスサイドボタン押下
   ↓
2. Claude.aiの音声ボタンを自動クリック
   ↓
3. 音声入力開始
   ↓
4. ユーザーが話す
   ↓
5. マウスボタンを離す
   ↓
6. 音声ボタンを再度クリック（停止）
   ↓
7. 500ms待機（テキスト変換完了待ち）
   ↓
8. 送信ボタンを自動クリック
   ↓
9. メッセージ送信完了
```

## 🐛 トラブルシューティング

### 音声入力が開始されない

**原因:** Claude.aiの音声ボタンが検出できていない

**対処:**
1. F12でコンソールを開く
2. エラーメッセージを確認
3. Claude.aiのUIが更新された可能性 → content.jsのセレクタを更新

### 自動送信されない

**原因:** 送信ボタンが検出できていない、またはテキスト変換が未完了

**対処:**
1. 設定で「自動送信」がONか確認
2. 500ms待機時間を延長（content.jsの`await this.sleep(500)`を`await this.sleep(1000)`に変更）

### マウスボタンが反応しない

**原因:** マウスのサイドボタンが無効、または別のボタン番号

**対処:**
1. マウスの設定でサイドボタンが有効か確認
2. 設定で「両方のサイドボタン」を選択して試す

## 📝 開発情報

### ファイル構成

```
claude-voice-hotkey/
├── manifest.json          # Chrome拡張機能マニフェスト
├── content.js             # コンテントスクリプト（メイン処理）
├── popup.html             # 設定画面UI
├── popup.js               # 設定画面制御
├── icon16.png             # アイコン（16x16）
├── icon48.png             # アイコン（48x48）
├── icon128.png            # アイコン（128x128）
└── README.md              # このファイル
```

### カスタマイズ

#### 待機時間の調整

`content.js` の以下の行を変更：

```javascript
// 500ms待機（テキスト変換完了待ち）
await this.sleep(500); // この数値を変更
```

#### セレクタの追加

Claude.aiのUIが更新された場合、`content.js`の以下のメソッドにセレクタを追加：

- `findVoiceButton()` - 音声ボタン検出
- `findSendButton()` - 送信ボタン検出

## 📄 ライセンス

このプロジェクトは個人利用・学習目的で作成されました。

## 🔗 関連プロジェクト

- [Zundamon Voice for Claude](../zundamon-browser-skill/) - Claude応答のずんだもん音声読み上げ

---

**作成日:** 2025-10-29  
**バージョン:** 1.0
